name: Quick Tests

on:
  pull_request:
    paths-ignore:
    - 'doc/**'
  push:

jobs:
  FreeBSD:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Start FreeBSD VM
        uses: vmactions/freebsd-vm@v1
        with:
          sync: rsync
          copyback: false
          prepare: pkg install -y autoconf automake bash cmake libtool pkgconf
      - name: super-test
        shell: freebsd {0}
        run: |
            cd ${{ github.workspace }}
            ./super-test.sh quick nowerror clang
